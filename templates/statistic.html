<!DOCTYPE html>
{% load static %}
<html>
<body>
  <head>
      <meta charset="utf-8" />
      <link rel="stylesheet" href="{% static "css/main.css"%}"/>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <section class="vh-100 bg-image" style="background-image: url('https://pcvector.net/uploads/posts/2018-08/1533326959_low-poly-background-generator-min.png');">
  <div class="mask d-flex align-items-center h-100 gradient-custom-3">
    <div class="container h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col">
          <div class="card" style="border-radius: 15px;">
            <div class="card-body p-5">
              <h3 class="text-uppercase text-center mb-5">Статистика</h3>
              <div class="container">
                <div class="row">
                    <div class="col-12" style="width:33%">
                        <div class="card">
                            <div class="card-body">
                                <p class="text-uppercase text-center mb-1"> Заявки </p>
                                <canvas id="doughnutChart1"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-12" style="width:33%">
                        <div class="card">
                            <div class="card-body">
                                <p class="text-uppercase text-center mb-1"> Проекты </p>
                                <canvas id="doughnutChart2"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-12" style="width:33%; padding-top: 7%">
                        <div class="card">
                            <div class="card-body">
                                <canvas id="barChart"></canvas>
                            </div>
                        </div>
                    </div>
                 </div>
               </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
</body>
<script>
  var ctxD = document.getElementById("doughnutChart1").getContext('2d');
  var myLineChart = new Chart(ctxD, {
  type: 'doughnut',
  data: {
    labels: ["Принятые", "Отклоненные", "На рассмотрении"],
    datasets: [{
    data: [{{arr}}[0], {{arr}}[1],{{arr}}[7]],
    backgroundColor: ["#46BFBD", "#F7464A", "#4D5360"],
    hoverBackgroundColor: ["#5AD3D1", "#FF5A5E", "#616774"]
    }]
  },
  options: {
    responsive: true
  }
});
</script>
<script>
  var ctxD = document.getElementById("doughnutChart2").getContext('2d');
  var myLineChart = new Chart(ctxD, {
  type: 'doughnut',
  data: {
    labels: ["Завершенные", "Незавершенные"],
    datasets: [{
    data: [{{arr}}[2], {{arr}}[3]],
    backgroundColor: ["#FDB45C", "#949FB1"],
    hoverBackgroundColor: ["#FFC870", "#A8B3C5"]
    }]
  },
  options: {
    responsive: true
  }
});
</script>
<script>
  var ctxB = document.getElementById("barChart").getContext('2d');
  var myBarChart = new Chart(ctxB, {
  type: 'bar',
  data: {
    labels: ["Начатые", "В процессе", "Завершенные"],
    datasets: [{
      label: 'Задачи',
      data: [{{arr}}[4], {{arr}}[5], {{arr}}[6]],
      backgroundColor: [
        'rgba(255, 99, 132, 0.2)',
        'rgba(255, 206, 86, 0.2)',
        'rgba(75, 192, 192, 0.2)'
      ],
      borderColor: [
        'rgba(255,99,132,1)',
        'rgba(255, 206, 86, 1)',
        'rgba(75, 192, 192, 1)'
      ],
    borderWidth: 1
    }]
    },
  options: {
    scales: {
      yAxes: [{
        ticks: {
        beginAtZero: true
        }
      }]
    }
  }
});
</script
</html>
